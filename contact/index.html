<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Contact</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="/assets/images/favicon.png">
  <link rel="stylesheet" href="/assets/css/style.css">
  <script src="/assets/js/script.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

  <style>
    #header {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        padding: 1rem 0;
        background: rgba(10, 10, 10, 0.9);
        backdrop-filter: var(--blur);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        z-index: 9999;
        transition: all 0.3s ease;
        pointer-events: auto;
        opacity: 1; /* Always visible */
        visibility: visible; /* Always visible */
    }
    
    /* Header loading state */
    #header:empty {
        background: rgba(10, 10, 10, 0.95);
        min-height: 70px; /* Reserve space while loading */
    }
    
    #header.scrolled { 
        background: rgba(10, 10, 10, 0.95);
        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

    /* Page content can fade in */
    body { opacity: 0; transition: opacity 0.5s ease; }
    body.loaded { opacity: 1; }

    /* Fade-in elements */
    .fade-in { 
        opacity: 0; 
        transform: translateY(20px); 
        transition: opacity 0.6s ease, transform 0.6s ease; 
    }
    .fade-in.visible { 
        opacity: 1; 
        transform: translateY(0); 
    }
  </style>
</head>
<body>

  <!-- Header placeholder -->
<header id="header" data-header></header>

  <div class="overlay"></div>

<!-- Contact Us -->
    <section class="contact" id="contact">
    <div class="container">
        <div class="contact-content fade-in">
        <!-- <div class="section-badge">üì¨ Contact Us</div> -->
        <h2>Let‚Äôs Build <span class="highlight">Something Great Together</span></h2>
        <p>Got an idea, project, or collab in mind? Drop us a line ‚Äî we‚Äôd love to hear from you.</p>
        
<form class="contact-form" id="contactForm">
  <input 
    type="text" 
    class="input-field" 
    name="name"
    placeholder="Your Name" 
    required
  >

  <input 
    type="email" 
    class="input-field" 
    name="email"
    placeholder="Your Email" 
    required
  >

  <input 
    type="tel" 
    class="input-field" 
    name="mobile"
    placeholder="Your Phone Number" 
    pattern="[0-9]{10}" 
    required
  >

  <!-- üî• Service Dropdown -->
 <div class="custom-multiselect">
  <div class="select-box" id="serviceSelectBox">
    <span id="selectedServices">Select Services</span>
    <i class="arrow"></i>
  </div>
  <div class="options-container" id="servicesOptions">
    <label><input type="checkbox" value="Digital Marketing"> Digital Marketing</label>
    <label><input type="checkbox" value="Social Media Management"> Social Media Management</label>
    <label><input type="checkbox" value="META Ads"> META Ads</label>
    <label><input type="checkbox" value="Google Ads"> Google Ads</label>
    <label><input type="checkbox" value="Web Development"> Web Development</label>
    <label><input type="checkbox" value="Logo Creation"> Logo Creation</label>
    <label><input type="checkbox" value="Advertising"> Advertising</label>
    <label><input type="checkbox" value="SMS Marketing"> SMS Marketing</label>
    <label><input type="checkbox" value="Email Marketing"> Email Marketing</label>
  </div>
</div>

  <textarea 
    class="input-field" 
    name="message"
    placeholder="Your Message" 
    rows="5" 
    required
  ></textarea>

  <button type="submit" class="submit-btn">Send Message</button>
</form>




<script>
document.getElementById("contactForm").addEventListener("submit", async function(e) {
  e.preventDefault(); // stop normal form submission

  const form = e.target;
  const data = {
    name: form.name.value,
    email: form.email.value,
    message: form.message.value,
    mobile: form.mobile.value,
    brand: "digivaala" // static brand value
  };

  try {
    const response = await fetch("https://mail-porter.vercel.app/api/email/send-email/gmail", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "accept": "application/json",
        "x-api-key": "SuperSecretApiKey123!@#"
      },
      body: JSON.stringify(data)
    });

    if (response.ok) {
      alert("‚úÖ Message sent successfully!");
      form.reset();
    } else {
      const err = await response.json();
      alert("‚ùå Failed to send: " + (err.message || response.statusText));
    }
  } catch (error) {
    console.error(error);
    alert("‚ö†Ô∏è Something went wrong. Please try again later.");
  }
});
</script>


        </div>
    </div>
    </section>

          <!-- Footer placeholder -->
  <div id="footer"></div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    document.body.classList.add("loaded"); // page fade-in

    const headerEl = document.getElementById("header");
    const overlay = document.querySelector(".overlay"); // select overlay

    // --- Header injection ---
    fetch("/partials/header.html")
      .then(res => res.text())
      .then(html => {
        headerEl.innerHTML = html;
        headerEl.classList.add("visible");

        // Re-init header behavior after injection
        initHeader(headerEl, overlay);
      })
      .catch(err => console.warn("Header failed:", err));

    // --- Footer injection ---
    fetch("/partials/footer.html")
      .then(res => res.text())
      .then(html => document.getElementById("footer").innerHTML = html)
      .catch(err => console.warn("Footer failed:", err));

    // --- Fade-in page elements ---
    const observer = new IntersectionObserver(entries => {
      entries.forEach((entry, i) => {
        if(entry.isIntersecting){
          setTimeout(() => entry.target.classList.add("visible"), i * 150);
        }
      });
    }, { threshold: 0.1, rootMargin: "0px 0px -50px 0px" });
    document.querySelectorAll(".fade-in").forEach(el => observer.observe(el));
  });

  // ‚úÖ Header logic, runs only after it's injected
  function initHeader(headerEl, overlay) {
    // Smooth scroll
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", e => {
        const href = anchor.getAttribute("href");
        if(href && href !== "#"){
          const target = document.querySelector(href);
          if(target){
            e.preventDefault();
            const headerHeight = headerEl.offsetHeight || 0;
            window.scrollTo({ top: target.offsetTop - headerHeight, behavior: "smooth" });
          }
        }
      });
    });

    // Hamburger nav
    const hamburger = headerEl.querySelector(".hamburger");
    const navMenu = headerEl.querySelector(".nav-menu");
    const navLinks = headerEl.querySelectorAll(".nav-link");

    if(hamburger && navMenu){
      const toggleMenu = () => {
        hamburger.classList.toggle("active");
        navMenu.classList.toggle("active");
        if(overlay) overlay.classList.toggle("active"); // toggle overlay
      };

      hamburger.addEventListener("click", toggleMenu);

      // Close menu when a nav link is clicked
      navLinks.forEach(link => {
        link.addEventListener("click", () => {
          hamburger.classList.remove("active");
          navMenu.classList.remove("active");
          if(overlay) overlay.classList.remove("active");
        });
      });

      // Close menu when overlay is clicked
      if(overlay){
        overlay.addEventListener("click", () => {
          hamburger.classList.remove("active");
          navMenu.classList.remove("active");
          overlay.classList.remove("active");
        });
      }
    }

    // Sticky header
    let lastScrollTop = 0;
    window.addEventListener("scroll", () => {
      const current = window.pageYOffset || document.documentElement.scrollTop;
      headerEl.classList.toggle("scrolled", current > 100);

      if(current > lastScrollTop && current > 200){
        headerEl.style.top = "-100px"; // hide on scroll down
      } else {
        headerEl.style.top = "0"; // show on scroll up
      }
      lastScrollTop = current;
    });
  }

    const selectBox = document.getElementById("serviceSelectBox");
    const optionsContainer = document.getElementById("servicesOptions");
    const selectedServices = document.getElementById("selectedServices");

    selectBox.addEventListener("click", () => {
      optionsContainer.style.display =
        optionsContainer.style.display === "block" ? "none" : "block";
    });

    document.querySelectorAll("#servicesOptions input").forEach(checkbox => {
      checkbox.addEventListener("change", () => {
        const checked = Array.from(document.querySelectorAll("#servicesOptions input:checked"))
          .map(cb => cb.value);
        selectedServices.textContent = checked.length > 0 ? checked.join(", ") : "Select Services";
      });
    });

    document.addEventListener("click", (e) => {
      if (!selectBox.contains(e.target) && !optionsContainer.contains(e.target)) {
        optionsContainer.style.display = "none";
      }
    });


</script>


</body>
</html>